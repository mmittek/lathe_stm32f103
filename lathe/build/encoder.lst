ARM GAS  C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"encoder.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.encoder_gpio_event,"ax",%progbits
  20              		.align	2
  21              		.global	encoder_gpio_event
  22              		.thumb
  23              		.thumb_func
  25              	encoder_gpio_event:
  26              	.LFB64:
  27              		.file 1 "Src/encoder.c"
   1:Src/encoder.c **** #include "encoder.h"
   2:Src/encoder.c **** 
   3:Src/encoder.c **** 
   4:Src/encoder.c **** 
   5:Src/encoder.c **** 
   6:Src/encoder.c **** void encoder_gpio_event(encoder_t *p_encoder, GPIO_TypeDef *port, uint32_t pin) {
  28              		.loc 1 6 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 32
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 88B0     		sub	sp, sp, #32
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 40
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 F860     		str	r0, [r7, #12]
  44 0008 B960     		str	r1, [r7, #8]
  45 000a 7A60     		str	r2, [r7, #4]
   7:Src/encoder.c **** 	if(p_encoder->event_handler == NULL) return;
  46              		.loc 1 7 0
  47 000c FB68     		ldr	r3, [r7, #12]
  48 000e 9B69     		ldr	r3, [r3, #24]
  49 0010 002B     		cmp	r3, #0
  50 0012 54D0     		beq	.L8
   8:Src/encoder.c **** 
ARM GAS  C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s 			page 2


   9:Src/encoder.c **** 	int state_a = HAL_GPIO_ReadPin(p_encoder->port_a, p_encoder->pin_a);
  51              		.loc 1 9 0
  52 0014 FB68     		ldr	r3, [r7, #12]
  53 0016 5A68     		ldr	r2, [r3, #4]
  54 0018 FB68     		ldr	r3, [r7, #12]
  55 001a 1B68     		ldr	r3, [r3]
  56 001c 9BB2     		uxth	r3, r3
  57 001e 1946     		mov	r1, r3
  58 0020 1046     		mov	r0, r2
  59 0022 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  60 0026 0346     		mov	r3, r0
  61 0028 BB61     		str	r3, [r7, #24]
  10:Src/encoder.c **** 	int state_b = HAL_GPIO_ReadPin(p_encoder->port_b, p_encoder->pin_b);
  62              		.loc 1 10 0
  63 002a FB68     		ldr	r3, [r7, #12]
  64 002c DA68     		ldr	r2, [r3, #12]
  65 002e FB68     		ldr	r3, [r7, #12]
  66 0030 9B68     		ldr	r3, [r3, #8]
  67 0032 9BB2     		uxth	r3, r3
  68 0034 1946     		mov	r1, r3
  69 0036 1046     		mov	r0, r2
  70 0038 FFF7FEFF 		bl	HAL_GPIO_ReadPin
  71 003c 0346     		mov	r3, r0
  72 003e 7B61     		str	r3, [r7, #20]
  11:Src/encoder.c **** 	int state_btn = HAL_GPIO_ReadPin(p_encoder->port_btn, p_encoder->pin_btn);
  73              		.loc 1 11 0
  74 0040 FB68     		ldr	r3, [r7, #12]
  75 0042 5A69     		ldr	r2, [r3, #20]
  76 0044 FB68     		ldr	r3, [r7, #12]
  77 0046 1B69     		ldr	r3, [r3, #16]
  78 0048 9BB2     		uxth	r3, r3
  79 004a 1946     		mov	r1, r3
  80 004c 1046     		mov	r0, r2
  81 004e FFF7FEFF 		bl	HAL_GPIO_ReadPin
  82 0052 0346     		mov	r3, r0
  83 0054 3B61     		str	r3, [r7, #16]
  12:Src/encoder.c **** 
  13:Src/encoder.c **** 	int event = -1;
  84              		.loc 1 13 0
  85 0056 4FF0FF33 		mov	r3, #-1
  86 005a FB61     		str	r3, [r7, #28]
  14:Src/encoder.c **** 
  15:Src/encoder.c **** 	if((port == p_encoder->port_a && pin == p_encoder->pin_a) || (port == p_encoder->port_b && pin == 
  87              		.loc 1 15 0
  88 005c FB68     		ldr	r3, [r7, #12]
  89 005e 5A68     		ldr	r2, [r3, #4]
  90 0060 BB68     		ldr	r3, [r7, #8]
  91 0062 9A42     		cmp	r2, r3
  92 0064 04D1     		bne	.L4
  93              		.loc 1 15 0 is_stmt 0 discriminator 1
  94 0066 FB68     		ldr	r3, [r7, #12]
  95 0068 1A68     		ldr	r2, [r3]
  96 006a 7B68     		ldr	r3, [r7, #4]
  97 006c 9A42     		cmp	r2, r3
  98 006e 09D0     		beq	.L5
  99              	.L4:
 100              		.loc 1 15 0 discriminator 3
ARM GAS  C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s 			page 3


 101 0070 FB68     		ldr	r3, [r7, #12]
 102 0072 DA68     		ldr	r2, [r3, #12]
 103 0074 BB68     		ldr	r3, [r7, #8]
 104 0076 9A42     		cmp	r2, r3
 105 0078 15D1     		bne	.L6
 106              		.loc 1 15 0 discriminator 4
 107 007a FB68     		ldr	r3, [r7, #12]
 108 007c 9A68     		ldr	r2, [r3, #8]
 109 007e 7B68     		ldr	r3, [r7, #4]
 110 0080 9A42     		cmp	r2, r3
 111 0082 10D1     		bne	.L6
 112              	.L5:
  16:Src/encoder.c **** 		if( state_a && !state_b ) { // forward
 113              		.loc 1 16 0 is_stmt 1
 114 0084 BB69     		ldr	r3, [r7, #24]
 115 0086 002B     		cmp	r3, #0
 116 0088 05D0     		beq	.L7
 117              		.loc 1 16 0 is_stmt 0 discriminator 1
 118 008a 7B69     		ldr	r3, [r7, #20]
 119 008c 002B     		cmp	r3, #0
 120 008e 02D1     		bne	.L7
  17:Src/encoder.c **** 			event = ENCODER_BACKWARD;
 121              		.loc 1 17 0 is_stmt 1
 122 0090 0323     		movs	r3, #3
 123 0092 FB61     		str	r3, [r7, #28]
 124 0094 07E0     		b	.L6
 125              	.L7:
  18:Src/encoder.c **** 
  19:Src/encoder.c **** 		} else if(!state_a && state_b) { // backward
 126              		.loc 1 19 0
 127 0096 BB69     		ldr	r3, [r7, #24]
 128 0098 002B     		cmp	r3, #0
 129 009a 04D1     		bne	.L6
 130              		.loc 1 19 0 is_stmt 0 discriminator 1
 131 009c 7B69     		ldr	r3, [r7, #20]
 132 009e 002B     		cmp	r3, #0
 133 00a0 01D0     		beq	.L6
  20:Src/encoder.c **** 			event = ENCODER_FORWARD;
 134              		.loc 1 20 0 is_stmt 1
 135 00a2 0223     		movs	r3, #2
 136 00a4 FB61     		str	r3, [r7, #28]
 137              	.L6:
  21:Src/encoder.c **** 		}
  22:Src/encoder.c **** 	} else if(port == p_encoder->port_btn && pin == p_encoder->pin_btn) {
  23:Src/encoder.c **** 	}
  24:Src/encoder.c **** 
  25:Src/encoder.c **** 	if(event != -1) {
 138              		.loc 1 25 0
 139 00a6 FB69     		ldr	r3, [r7, #28]
 140 00a8 B3F1FF3F 		cmp	r3, #-1
 141 00ac 08D0     		beq	.L1
  26:Src/encoder.c **** 		p_encoder->event_handler(p_encoder, event);
 142              		.loc 1 26 0
 143 00ae FB68     		ldr	r3, [r7, #12]
 144 00b0 9B69     		ldr	r3, [r3, #24]
 145 00b2 FA69     		ldr	r2, [r7, #28]
 146 00b4 D2B2     		uxtb	r2, r2
ARM GAS  C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s 			page 4


 147 00b6 1146     		mov	r1, r2
 148 00b8 F868     		ldr	r0, [r7, #12]
 149 00ba 9847     		blx	r3
 150 00bc 00E0     		b	.L1
 151              	.L8:
   7:Src/encoder.c **** 
 152              		.loc 1 7 0
 153 00be 00BF     		nop
 154              	.L1:
  27:Src/encoder.c **** 	}
  28:Src/encoder.c **** 
  29:Src/encoder.c **** }
 155              		.loc 1 29 0
 156 00c0 2037     		adds	r7, r7, #32
 157              	.LCFI3:
 158              		.cfi_def_cfa_offset 8
 159 00c2 BD46     		mov	sp, r7
 160              	.LCFI4:
 161              		.cfi_def_cfa_register 13
 162              		@ sp needed
 163 00c4 80BD     		pop	{r7, pc}
 164              		.cfi_endproc
 165              	.LFE64:
 167 00c6 00BF     		.text
 168              	.Letext0:
 169              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\mach
 170              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\sys\
 171              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 172              		.file 5 "Inc/encoder.h"
 173              		.file 6 "Drivers/CMSIS/Include/core_cm3.h"
ARM GAS  C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 encoder.c
C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s:20     .text.encoder_gpio_event:00000000 $t
C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s:25     .text.encoder_gpio_event:00000000 encoder_gpio_event
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.0.8e003669b0c71c0a33544209f61bc06c
                           .group:00000000 wm4._newlib_version.h.4.ad342815780c8db09778091a421b5b5b
                           .group:00000000 wm4.features.h.33.d97f2d646536517df901beeb5b9993f5
                           .group:00000000 wm4._default_types.h.15.933e8edd27a65e0b69af4a865eb623d2
                           .group:00000000 wm4._intsup.h.10.b82bf99f69d6a5c085fc866de0d3eb9b
                           .group:00000000 wm4._stdint.h.10.7a5f60e6741af4a5594a3867d347e1f9
                           .group:00000000 wm4.stdint.h.23.373a9d32a9e4c2e88fd347156532d281
                           .group:00000000 wm4.main.h.42.3e9602f258f21c216c24749e16771da2
                           .group:00000000 wm4.stm32f1xx_hal_conf.h.52.694831360934fa22cef97aea9ad52ec0
                           .group:00000000 wm4.stm32f1xx.h.57.c2a10934f4c6830aeb7e4997f02806f1
                           .group:00000000 wm4.stm32f103xb.h.56.66305a77cea9d5300aac997a78930076
                           .group:00000000 wm4.core_cm3.h.42.2a8e0c96b09547b9973a4a18db1ac16e
                           .group:00000000 wm4.cmsis_gcc.h.36.67d2dcde6a14ff518eedc1d545d89a76
                           .group:00000000 wm4.core_cm3.h.175.a6c441adf1a05ce96eea3cf78e6687ab
                           .group:00000000 wm4.stm32f103xb.h.619.382b3c85cac6f0350ee5bfaff32e1ebc
                           .group:00000000 wm4.stm32f1xx.h.180.c0013e6ebd6ad07f67c298190b8eac92
                           .group:00000000 wm4.newlib.h.8.36dd0417407b0a085bc04c49cc2ed13a
                           .group:00000000 wm4.config.h.219.65a553ab5bef5482f0d7880b0d33015e
                           .group:00000000 wm4._ansi.h.23.9f8fcfa20193763fcf364fb91705c94b
                           .group:00000000 wm4.stdio.h.31.7c0e28c411445f3f9c5b11accf882760
                           .group:00000000 wm4.stddef.h.187.2ff233552538c6ff9b8575ca8ea52cb3
                           .group:00000000 wm4.cdefs.h.47.ba62642086d429b4f95c2381cae1c0aa
                           .group:00000000 wm4.stddef.h.39.ec95e8feac892e292b69dc7ae75b0d64
                           .group:00000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:00000000 wm4.lock.h.2.9bc98482741e5e2a9450b12934a684ea
                           .group:00000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:00000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:00000000 wm4._types.h.183.c226d164ceca1f2ecb9ae9360c54a098
                           .group:00000000 wm4.reent.h.17.23b059516345f8f5abfa01ddc379570f
                           .group:00000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:00000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:00000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:00000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:00000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:00000000 wm4.select.h.30.bbece7fa40993a78092dcc5805132560
                           .group:00000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:00000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:00000000 wm4.stdio.h.81.8188691c2279eac7a223caa50f6694b9
                           .group:00000000 wm4.stm32f1xx_hal_def.h.75.49f74f1b76b21b32115f01d919dedfe9
                           .group:00000000 wm4.stm32f1xx_hal_rcc.h.110.e8776981928b0b5f4b34a0798958a52d
                           .group:00000000 wm4.stm32f1xx_hal_rcc_ex.h.38.d69020e892acea139e28d501e199a898
                           .group:00000000 wm4.stm32f1xx_hal_rcc.h.1217.4363bfbab2bddd7821442b2bd7309b62
                           .group:00000000 wm4.stm32f1xx_hal_gpio.h.38.154e4ee32f1e606c3d2bf481de68fa8f
                           .group:00000000 wm4.stm32f1xx_hal_gpio_ex.h.38.b1760b0a36205a773f96b64105bf573b
                           .group:00000000 wm4.stm32f1xx_hal_gpio.h.279.f7fb4bf14b992a51de3ea5920d36cbc8
                           .group:00000000 wm4.stm32f1xx_hal_dma.h.38.7ba73d8fbb5802987cd3c94d3cb2acfc
                           .group:00000000 wm4.stm32f1xx_hal_dma_ex.h.38.c1f016a34e6785541786945b74870a35
                           .group:00000000 wm4.stm32f1xx_hal_dma.h.425.ea703e7b8c2a94afae7354b55b709b4c
                           .group:00000000 wm4.stm32f1xx_hal_cortex.h.38.886490b3101139066008b34124bf11c4
                           .group:00000000 wm4.stm32f1xx_hal_flash.h.38.bef5191653b2e1c62feeefaeb5a5cc36
                           .group:00000000 wm4.stm32f1xx_hal_flash_ex.h.38.e594fb3e52b67489b87423fe0ced0812
                           .group:00000000 wm4.stm32f1xx_hal_pwr.h.38.f2410f2a88433ca6e6e66491f47a406f
ARM GAS  C:\Users\MATEUS~1\AppData\Local\Temp\ccpPluJn.s 			page 6


                           .group:00000000 wm4.stm32f1xx_hal.h.101.c80f672c38b2f88a7deb75929f9f6bbe

UNDEFINED SYMBOLS
HAL_GPIO_ReadPin
